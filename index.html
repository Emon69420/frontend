<!DOCTYPE html> 
<html lang="en-US" >
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width">
      <!-- WP_HEAD() START --> 
      <meta name='robots' content='noindex, nofollow' />
      <title>posts - PostPeep</title>
      <link rel='dns-prefetch' href='//dev-postpeep.pantheonsite.io' />
      <link rel='dns-prefetch' href='//s.w.org' />
      <link rel="alternate" type="application/rss+xml" title="PostPeep &raquo; Feed" href="https://dev-postpeep.pantheonsite.io/feed/" />
      <link rel="alternate" type="application/rss+xml" title="PostPeep &raquo; Comments Feed" href="https://dev-postpeep.pantheonsite.io/comments/feed/" />
      <style id='wp-block-library-inline-css'> :root{--wp-admin-theme-color:#007cba;--wp-admin-theme-color--rgb:0,124,186;--wp-admin-theme-color-darker-10:#006ba1;--wp-admin-theme-color-darker-10--rgb:0,107,161;--wp-admin-theme-color-darker-20:#005a87;--wp-admin-theme-color-darker-20--rgb:0,90,135;--wp-admin-border-width-focus:2px}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){:root{--wp-admin-border-width-focus:1.5px}}:root{--wp--preset--font-size--normal:16px;--wp--preset--font-size--huge:42px}:root .has-very-light-gray-background-color{background-color:#eee}:root .has-very-dark-gray-background-color{background-color:#313131}:root .has-very-light-gray-color{color:#eee}:root .has-very-dark-gray-color{color:#313131}:root .has-vivid-green-cyan-to-vivid-cyan-blue-gradient-background{background:linear-gradient(135deg,#00d084,#0693e3)}:root .has-purple-crush-gradient-background{background:linear-gradient(135deg,#34e2e4,#4721fb 50%,#ab1dfe)}:root .has-hazy-dawn-gradient-background{background:linear-gradient(135deg,#faaca8,#dad0ec)}:root .has-subdued-olive-gradient-background{background:linear-gradient(135deg,#fafae1,#67a671)}:root .has-atomic-cream-gradient-background{background:linear-gradient(135deg,#fdd79a,#004a59)}:root .has-nightshade-gradient-background{background:linear-gradient(135deg,#330968,#31cdcf)}:root .has-midnight-gradient-background{background:linear-gradient(135deg,#020381,#2874fc)}.has-regular-font-size{font-size:1em}.has-larger-font-size{font-size:2.625em}.has-normal-font-size{font-size:var(--wp--preset--font-size--normal)}.has-huge-font-size{font-size:var(--wp--preset--font-size--huge)}.has-text-align-center{text-align:center}.has-text-align-left{text-align:left}.has-text-align-right{text-align:right}#end-resizable-editor-section{display:none}.aligncenter{clear:both}.items-justified-left{justify-content:flex-start}.items-justified-center{justify-content:center}.items-justified-right{justify-content:flex-end}.items-justified-space-between{justify-content:space-between}.screen-reader-text{border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;word-wrap:normal!important}.screen-reader-text:focus{background-color:#ddd;clip:auto!important;-webkit-clip-path:none;clip-path:none;color:#444;display:block;font-size:1em;height:auto;left:5px;line-height:normal;padding:15px 23px 14px;text-decoration:none;top:5px;width:auto;z-index:100000}html :where(img){height:auto;max-width:100%} </style>
      <style id='global-styles-inline-css'> body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;} </style>
      <link rel='stylesheet' id='oxygen-css'  href='https://cdn.jsdelivr.net/gh/Emon69420/frontend/oxygen-component-framework-oxygen.css' media='all' />
      <script>
         /* <![CDATA[ */
         var rcewpp = {
             "ajax_url":"https://dev-postpeep.pantheonsite.io/wp-admin/admin-ajax.php",
             "nonce": "62b58da4fb",
             "home_url": "https://dev-postpeep.pantheonsite.io/",
             "settings_icon": 'https://dev-postpeep.pantheonsite.io/wp-content/plugins/export-wp-page-to-static-html/admin/images/settings.png',
             "settings_hover_icon": 'https://dev-postpeep.pantheonsite.io/wp-content/plugins/export-wp-page-to-static-html/admin/images/settings_hover.png'
         };
         /* ]]\> */
      </script>         <script src='https://cdn.jsdelivr.net/gh/Emon69420/frontend/jquery-jquery.min.js' id='jquery-core-js'></script> 
      <link rel="https://api.w.org/" href="https://dev-postpeep.pantheonsite.io/wp-json/" />
      <link rel="alternate" type="application/json" href="https://dev-postpeep.pantheonsite.io/wp-json/wp/v2/pages/92" />
      <link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://dev-postpeep.pantheonsite.io/xmlrpc.php?rsd" />
      <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://dev-postpeep.pantheonsite.io/wp-includes/wlwmanifest.xml" />
      <meta name="generator" content="WordPress 5.9.2" />
      <link rel="canonical" href="https://dev-postpeep.pantheonsite.io/posts/" />
      <link rel='shortlink' href='https://dev-postpeep.pantheonsite.io/?p=92' />
      <link rel="alternate" type="application/json+oembed" href="https://dev-postpeep.pantheonsite.io/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdev-postpeep.pantheonsite.io%2Fposts%2F" />
      <link rel="alternate" type="text/xml+oembed" href="https://dev-postpeep.pantheonsite.io/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdev-postpeep.pantheonsite.io%2Fposts%2F&#038;format=xml" />
      <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900|Poppins:100,200,300,400,500,600,700,800,900|Montserrat:100,200,300,400,500,600,700,800,900" rel="stylesheet">
      <link rel='stylesheet' id='oxygen-cache-92-css'  href='https://cdn.jsdelivr.net/gh/Emon69420/frontend/oxygen-css-92.css' media='all' />
      <link rel='stylesheet' id='oxygen-universal-styles-css'  href='https://cdn.jsdelivr.net/gh/Emon69420/frontend/oxygen-css-universal.css' media='all' />
      <!-- END OF WP_HEAD() --> 
   </head>
   <body class="page-template-default page page-id-92 wp-embed-responsive  oxygen-body" >
      <section id="section-1-92" class="ct-section upper-section" >
         <div class="ct-section-inner-wrap">
            <div id="new_columns-5-92" class="ct-new-columns" >
               <div id="div_block-6-92" class="ct-div-block" ></div>
               <div id="div_block-7-92" class="ct-div-block" >
                  <h1 id="headline-9-92" class="ct-headline">postpeep</h1>
               </div>
               <div id="div_block-8-92" class="ct-div-block" ><img id="image-10-92" alt="" src="http://via.placeholder.com/1600x900" class="ct-image"/></div>
            </div>
         </div>
      </section>
      <section id="section-11-92" class="ct-section" >
         <div class="ct-section-inner-wrap">
            <div id="new_columns-13-92" class="ct-new-columns" >
               {%if current_user.profile_image != none%}
               <div id="div_block-14-92" class="ct-div-block" ><img id="image-16-92" alt="" src="https://res.cloudinary.com/postpeepbucket/image/upload/v1649098718/{{current_user.profile_image}}" class="ct-image"/></div>
               {%else%}
               <div id="div_block-14-92" class="ct-div-block" ><img id="image-16-92" alt="" src="https://www.google.com/url?sa=i&url=https%3A%2F%2Fen.naneedigital.com%2Farticle%2Freplace_default_user_account_avatar_in_windows_10&psig=AOvVaw2KfXR_TPm67aRpv6mMgxQU&ust=1649185736072000&source=images&cd=vfe&ved=2ahUKEwj89IDhjfv2AhXJQWwGHfbkDK8Qr4kDegUIARCsAg" class="ct-image"/></div>
               {% endif %}
               <div id="div_block-15-92" class="ct-div-block" ><a id="link_button-17-92" class="ct-link-button" href="http://" target="_blank"  >Post Something 🖊</a></div>
            </div>
         </div>
      </section>
      <section id="section-77-92" class="ct-section" >
         <div class="ct-section-inner-wrap">
            <div id="new_columns-78-92" class="ct-new-columns" >
               <div id="div_block-79-92" class="ct-div-block" ><a id="link_button-83-92" class="ct-link-button" href="http://" target="_self"  >Locality</a></div>
               <div id="div_block-80-92" class="ct-div-block" ><a id="link_button-84-92" class="ct-link-button" href="http://" target="_self"  >Following</a></div>
               <div id="div_block-81-92" class="ct-div-block" ><a id="link_button-85-92" class="ct-link-button" href="http://" target="_self"  >Groups</a></div>
               <div id="div_block-82-92" class="ct-div-block" ><a id="link_button-86-92" class="ct-link-button" href="http://" target="_self"  >Polls</a></div>
            </div>
         </div>
      </section>
      <section id="section-18-92" class="ct-section" >
         <div class="ct-section-inner-wrap">
            {% for post in posts %}
            <div id="div_block-19-92" class="ct-div-block" >
               <div id="new_columns-20-92" class="ct-new-columns" >
                  {% if post.author.profile_image != none %}
                  <div id="div_block-21-92" class="ct-div-block" ><img id="image-23-92" alt="" src="https://res.cloudinary.com/postpeepbucket/image/upload/v1649098718/{{post.author.profile_image}}" class="ct-image"/></div>
                  {%else%}
                  <div id="div_block-21-92" class="ct-div-block" ><img id="image-23-92" alt="" src="https://www.google.com/url?sa=i&url=https%3A%2F%2Fen.naneedigital.com%2Farticle%2Freplace_default_user_account_avatar_in_windows_10&psig=AOvVaw2KfXR_TPm67aRpv6mMgxQU&ust=1649185736072000&source=images&cd=vfe&ved=2ahUKEwj89IDhjfv2AhXJQWwGHfbkDK8Qr4kDegUIARCsAg" class="ct-image" class="ct-image"/></div>
                  {%endif%}
                  <div id="div_block-22-92" class="ct-div-block" >
                     <h1 id="headline-24-92" class="ct-headline">{{post.author.username}}</h1>
                      {% if post.group_posted != none %}
                     <a id="link_text-25-92" class="ct-link-text" href="http://" target="_self"  >At Pashchim Vihar in {{post.group.group_name}}</a>
                      {% else %}
                     <a id="link_text-25-92" class="ct-link-text" href="http://" target="_self"  >At Pashchim Vihar</a>
                      {%endif%}
                  </div>
               </div>
               <div id="text_block-27-92" class="ct-text-block" >{{post.post}}</div>
               {%if current_user.id in post.postlikerelation %}
               <div id="new_columns-30-92" class="ct-new-columns" >
                  <div id="div_block-31-92" class="ct-div-block" >
                     <div id="div_block-36-92" class="ct-div-block" ><a id="link_button-37-92" class="ct-link-button" href="http://" target="_self"  >😍</a></div>
                  </div>
                  <div id="div_block-32-92" class="ct-div-block" >
                     <div id="text_block-41-92" class="ct-text-block" >{{post.postlikerelation |length}} likes</div>
                  </div>
                  <div id="div_block-33-92" class="ct-div-block" ><a id="link_button-42-92" class="ct-link-button" href="http://" target="_self"  >📣</a></div>
                  <div id="div_block-34-92" class="ct-div-block" ><a id="link_button-44-92" class="ct-link-button" href="http://" target="_self"  >💥</a></div>
               </div>
               {%else%}
               <div id="new_columns-45-92" class="ct-new-columns" >
                  <div id="div_block-46-92" class="ct-div-block" >
                     <div id="div_block-47-92" class="ct-div-block" ><a id="link_button-48-92" class="ct-link-button" href="http://" target="_self"  >😀</a></div>
                  </div>
                  <div id="div_block-49-92" class="ct-div-block" >
                     <div id="text_block-50-92" class="ct-text-block" >123 likes</div>
                  </div>
                  <div id="div_block-51-92" class="ct-div-block" ><a id="link_button-52-92" class="ct-link-button" href="http://" target="_self"  >📣</a></div>
                  <div id="div_block-53-92" class="ct-div-block" ><a id="link_button-54-92" class="ct-link-button" href="http://" target="_self"  >💥</a></div>
               </div>
               {%endif%}
               <div id="new_columns-60-92" class="ct-new-columns" >
                  <div id="div_block-61-92" class="ct-div-block" >
                     <div id="text_block-63-92" class="ct-text-block" >20/02/2004</div>
                  </div>
                  <div id="div_block-62-92" class="ct-div-block" ><a id="link_button-64-92" class="ct-link-button" href="http://" target="_self"  >🔗Share</a></div>
               </div>
            </div>
            {% endfor %}
         </div>
      </section>
      <div tabindex="-1" class="oxy-modal-backdrop bottom oxy-not-closable"                 style="background-color: rgba(0,0,0,0);"                 data-trigger="after_specified_time"                data-trigger-selector=""                data-trigger-time="0"                data-trigger-time-unit="seconds"                data-close-automatically="no"                data-close-after-time="10"                data-close-after-time-unit="seconds"                data-trigger_scroll_amount="50"                data-trigger_scroll_direction="down"	            data-scroll_to_selector=""	            data-time_inactive="60"	            data-time-inactive-unit="seconds"	            data-number_of_clicks="3"	            data-close_on_esc="off"	            data-number_of_page_views="3"                data-close-after-form-submit="no"                data-open-again="always_show"                data-open-again-after-days="3"            >
         <div id="modal-67-92" class="ct-modal" >
            <div id="new_columns-68-92" class="ct-new-columns" >
               <div id="div_block-69-92" class="ct-div-block" ><a id="link_button-73-92" class="ct-link-button" href="http://" target="_self"  >📓 posts</a></div>
               <div id="div_block-70-92" class="ct-div-block" ><a id="link_button-74-92" class="ct-link-button" href="http://" target="_self"  >🤘 groups</a></div>
               <div id="div_block-71-92" class="ct-div-block" ><a id="link_button-75-92" class="ct-link-button" href="http://" target="_self"  >🔔 activity</a></div>
               <div id="div_block-72-92" class="ct-div-block" ><a id="link_button-76-92" class="ct-link-button" href="http://" target="_self"  >📍location</a></div>
            </div>
         </div>
      </div>
      <!-- WP_FOOTER -->  		<script type="text/javascript">
         // Initialize Oxygen Modals
         jQuery(document).ready(function() {
         
             function showModal( modal ) {
                 var $modal = jQuery( modal );
                 $modal.addClass("live");
                 var modalId = $modal[0].querySelector('.ct-modal').id;
                 
                 var focusable = modal.querySelector('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])');
         
                 if(focusable) {
                     setTimeout(() => {
                         focusable.focus();    
                     }, 500);
                     
                     console.log(focusable);
                 }
         
                 setTimeout(() => {
                     $modal.focus();
                 }, 500)
         
                 // Check if this modal can be shown according to settings and last shown time
                 // Current and last time in milliseconds
                 var currentTime = new Date().getTime();
                 var lastShownTime = localStorage && localStorage['oxy-' + modalId + '-last-shown-time'] ? JSON.parse( localStorage['oxy-' + modalId + '-last-shown-time'] ) : false;
                 // manual triggers aren't affected by last shown time
                 if( $modal.data( 'trigger' ) != 'user_clicks_element' ) {
                     switch( $modal.data( 'open-again' ) ) {
                         case 'never_show_again':
                             // if it was shown at least once, don't show it again
                             if( lastShownTime !== false ) return;
                             break;
                         case 'show_again_after':
                             var settingDays = parseInt( $modal.data( 'open-again-after-days' ) );
                             var actualDays = ( currentTime - lastShownTime ) / ( 60*60*24*1000 );
                             if( actualDays < settingDays ) return;
                             break;
                         default:
                             //always show
                             break;
                     }
                 }
                 // save current time as last shown time
                 if( localStorage ) localStorage['oxy-' + modalId + '-last-shown-time'] = JSON.stringify( currentTime );
         
                 // trick to make jQuery fadeIn with flex
                 $modal.css("display", "flex");
                 $modal.hide();
                 // trick to force AOS trigger on elements inside the modal
                 $modal.find(".aos-animate").removeClass("aos-animate").addClass("aos-animate-disabled");
         
                 // show the modal
                 $modal.fadeIn(250, function(){
                     // trick to force AOS trigger on elements inside the modal
                     $modal.find(".aos-animate-disabled").removeClass("aos-animate-disabled").addClass("aos-animate");
                 });
         
         
                 if( $modal.data( 'close-automatically' ) == 'yes' ) {
                     var time = parseInt( $modal.data( 'close-after-time' ) );
                     if( $modal.data( 'close-after-time-unit' ) == 'seconds' ) {
                         time = parseInt( parseFloat( $modal.data( 'close-after-time' ) ) * 1000 );
                     }
                     setTimeout( function(){
                         hideModal(modal);
                     }, time );
                 }
         
                 // close modal automatically after form submit (Non-AJAX)
                 if( $modal.data( 'close-after-form-submit' ) == 'yes' && $modal.data("trigger") == "after_specified_time" ) {
         
                     // WPForms
                     // WPForms replaces the form with a confirmation message on page refresh
                     if( $modal.find(".wpforms-confirmation-container-full").length > 0 ) {
                         setTimeout(function () {
                             hideModal(modal);
                         }, 3000);
                     }
         
                     // Formidable Forms
                     // Formidable Forms replaces the form with a confirmation message on page refresh
                     if( $modal.find(".frm_message").length > 0 ) {
                         setTimeout(function () {
                             hideModal(modal);
                         }, 3000);
                     }
         
                     // Caldera Forms
                     // Caldera Forms replaces the form with a confirmation message on page refresh
                     if( $modal.find(".caldera-grid .alert-success").length > 0 ) {
                         setTimeout(function () {
                             hideModal(modal);
                         }, 3000);
                     }
         
                 }
             }
         
             var hideModal = function ( modal ) {
         
                 // The function may be called by third party code, without argument, so we must close the first visible modal
                 if( typeof modal === 'undefined' ) {
                     var openModals = jQuery(".oxy-modal-backdrop.live");
                     if( openModals.length == 0 ) return;
                     modal = openModals[0];
                 }
         
                 var $modal = jQuery( modal );
                 // refresh any iframe so media embedded this way is stopped
                 $modal.find( 'iframe').each(function(index){
                     this.src = this.src;
                 });
                 // HTML5 videos can be stopped easily
                 $modal.find( 'video' ).each(function(index){
                     this.pause();
                 });
                 // If there are any forms in the modal, reset them
                 $modal.find("form").each(function(index){
                     this.reset();
                 });
         
                 $modal.fadeOut(400, function(){
                     $modal.removeClass("live");
                 });
             };
         
             window.oxyCloseModal = hideModal;
         
             jQuery( ".oxy-modal-backdrop" ).each(function( index ) {
         
                 var modal = this;
         
                 (function( modal ){
                     var $modal = jQuery( modal );
         
         var exitIntentFunction = function( e ){
         if( e.clientY <= 0 ) {
         showModal( modal );
         document.removeEventListener( "mouseleave", exitIntentFunction );
         document.removeEventListener( "mouseout", exitIntentFunction );
         }
         }
         
                     switch ( jQuery( modal ).data("trigger") ) {
         
                         case "on_exit_intent":
                             document.addEventListener( "mouseleave", exitIntentFunction, false);
         document.addEventListener( "mouseout", exitIntentFunction, false);
                             break;
         
                         case "user_clicks_element":
                             jQuery( jQuery( modal ).data( 'trigger-selector' ) ).click( function( event ) {
                                 showModal( modal );
                                 event.preventDefault();
                             } );
                             break;
         
                         case "after_specified_time":
                             var time = parseInt( jQuery( modal ).data( 'trigger-time' ) );
                             if( jQuery( modal ).data( 'trigger-time-unit' ) == 'seconds' ) {
                                 time = parseInt( parseFloat( jQuery( modal ).data( 'trigger-time' ) ) * 1000 );
                             }
                             setTimeout( function(){
                                 showModal( modal );
                             }, time );
                             break;
         
                         case "after_scrolled_amount":
                             window.addEventListener("scroll", function scrollDetection(){
                                 var winheight= window.innerHeight || (document.documentElement || document.body).clientHeight;
                                 var docheight = jQuery(document).height();
                                 var scrollTop = window.pageYOffset || (document.documentElement || document.body.parentNode || document.body).scrollTop;
                                 var isScrollUp = false;
                                 var oxyPreviousScrollTop = parseInt( jQuery( modal ).data( 'previous_scroll_top' ) );
                                 if( !isNaN( oxyPreviousScrollTop ) ) {
                                     if( oxyPreviousScrollTop > scrollTop) isScrollUp = true;
                                 }
                                 jQuery( modal ).data( 'previous_scroll_top', scrollTop );
                                 var trackLength = docheight - winheight;
                                 var pctScrolled = Math.floor(scrollTop/trackLength * 100);
                                 if( isNaN( pctScrolled ) ) pctScrolled = 0;
         
                                 if(
                                     ( isScrollUp && jQuery( modal ).data( 'trigger_scroll_direction' ) == 'up' ) ||
                                     ( !isScrollUp && jQuery( modal ).data( 'trigger_scroll_direction' ) == 'down' && pctScrolled >= parseInt( jQuery( modal ).data( 'trigger_scroll_amount' ) ) )
                                 ) {
                                     showModal( modal );
                                     window.removeEventListener( "scroll", scrollDetection );
                                 }
                             }, false);
                             break;
                         case "on_scroll_to_element":
                             window.addEventListener("scroll", function scrollDetection(){
                                 var $element = jQuery( jQuery( modal ).data( 'scroll_to_selector' ) );
                                 if( $element.length == 0 ) {
                                     window.removeEventListener( "scroll", scrollDetection );
                                     return;
                                 }
         
                                 var top_of_element = $element.offset().top;
                                 var bottom_of_element = $element.offset().top + $element.outerHeight();
                                 var bottom_of_screen = jQuery(window).scrollTop() + jQuery(window).innerHeight();
                                 var top_of_screen = jQuery(window).scrollTop();
         
                                 if ((bottom_of_screen > bottom_of_element - $element.outerHeight() /2 ) && (top_of_screen < top_of_element + $element.outerHeight() /2 )){
                                     showModal( modal );
                                     window.removeEventListener( "scroll", scrollDetection );
                                 }
                             }, false);
                             break;
                         case "after_number_of_clicks":
                             document.addEventListener("click", function clickDetection(){
                                 var number_of_clicks = parseInt( jQuery( modal ).data( 'number_of_clicks' ) );
         
                                 var clicks_performed = isNaN( parseInt( jQuery( modal ).data( 'clicks_performed' ) ) ) ? 1 :  parseInt( jQuery( modal ).data( 'clicks_performed' ) ) + 1;
         
                                 jQuery( modal ).data( 'clicks_performed', clicks_performed );
         
                                 if ( clicks_performed == number_of_clicks ){
                                     showModal( modal );
                                     document.removeEventListener( "click", clickDetection );
                                 }
                             }, false);
                             break;
                         case "after_time_inactive":
                             var time = parseInt( jQuery( modal ).data( 'time_inactive' ) );
                             if( jQuery( modal ).data( 'time-inactive-unit' ) == 'seconds' ) {
                                 time = parseInt( parseFloat( jQuery( modal ).data( 'time_inactive' ) ) * 1000 );
                             }
                             var activityDetected = function(){
                                 jQuery( modal ).data( 'millis_idle', 0 );
                             };
                             document.addEventListener( "click", activityDetected);
                             document.addEventListener( "mousemove", activityDetected);
                             document.addEventListener( "keypress", activityDetected);
                             document.addEventListener( "scroll", activityDetected);
         
                             var idleInterval = setInterval(function(){
                                 var millis_idle = isNaN( parseInt( jQuery( modal ).data( 'millis_idle' ) ) ) ? 100 :  parseInt( jQuery( modal ).data( 'millis_idle' ) ) + 100;
                                 jQuery( modal ).data( 'millis_idle', millis_idle );
                                 if( millis_idle > time ){
                                     clearInterval( idleInterval );
                                     document.removeEventListener( "click", activityDetected );
                                     document.removeEventListener( "mousemove", activityDetected );
                                     document.removeEventListener( "keypress", activityDetected );
                                     document.removeEventListener( "scroll", activityDetected );
                                     showModal( modal );
                                 }
                             }, 100);
                             break;
         
                         case "after_number_of_page_views":
                             var modalId = modal.querySelector('.ct-modal').id;
                             var pageViews = localStorage && localStorage['oxy-' + modalId + '-page-views'] ? parseInt( localStorage['oxy-' + modalId + '-page-views'] ) : 0;
                             pageViews++;
                             if( localStorage ) localStorage['oxy-' + modalId + '-page-views'] = pageViews;
                             if( parseInt( jQuery( modal ).data( 'number_of_page_views' ) ) == pageViews ) {
                                 if( localStorage ) localStorage['oxy-' + modalId + '-page-views'] = 0;
                                 showModal( modal );
                             }
                             break;
         
                     }
         
                     // add event handler to close modal automatically after AJAX form submit
                     if( $modal.data( 'close-after-form-submit' ) == 'yes' ) {
         
                         // Contact Form 7
                         if (typeof wpcf7 !== 'undefined') {
                             $modal.find('div.wpcf7').each(function () {
                                 var $form = jQuery(this).find('form');
                                 this.addEventListener('wpcf7submit', function (event) {
                                     if (event.detail.contactFormId == $form.attr("id")) {
                                         setTimeout(function () {
                                             hideModal(modal);
                                         }, 3000);
                                     }
                                 }, false);
                             });
                         }
         
                         // Caldera Forms
                         document.addEventListener( "cf.submission", function(event){
                             // Pending, Caldera AJAX form submissions aren't working since Oxygen 2.2, see: https://github.com/soflyy/oxygen/issues/1638
                             console.log( event );
                         });
         
                         // Ninja Forms
                         jQuery(document).on("nfFormSubmitResponse", function(event, response){
                             // Only close the modal if the event was triggered from a Ninja Form inside the modal
                             if( $modal.find("#nf-form-" + response.id + "-cont").length > 0 ) {
                                 setTimeout(function () {
                                     hideModal(modal);
                                 }, 3000);
                             }
                         });
         
                     }
         
                 })( modal );
         
             });
         
             // handle clicks on modal backdrop and on .oxy-close-modal
             jQuery("body").on('click touchend', '.oxy-modal-backdrop, .oxy-close-modal', function( event ) {
         
                 var $this = jQuery( this );
                 var $target = jQuery( event.target );
         
                 // Click event in the modal div and it's children is propagated to the backdrop
                 if( !$target.hasClass( 'oxy-modal-backdrop' ) && !$this.hasClass( 'oxy-close-modal' ) ) {
                     event.stopPropagation();
                     return;
                 }
         
                 if( $target.hasClass( 'oxy-modal-backdrop' ) && $this.hasClass( 'oxy-not-closable' ) ) {
                     return;
                 }
         
                 if( $this.hasClass( 'oxy-close-modal' ) ) event.preventDefault();
         
                 var $modal = $this.hasClass( 'oxy-close-modal' ) ? $this.closest('.oxy-modal-backdrop') : $this;
                 hideModal( $modal[0] );
             });
         
             jQuery(document).keyup( function(e){
                 if( e.key == 'Escape' ){
                     jQuery(".oxy-modal-backdrop:visible").each(function(index){
                         if( jQuery(this).data("close_on_esc") == 'on' ) hideModal(this);
                     });
                 }
             } );
         
         });
         
      </script>  	<script type="text/javascript" id="ct-footer-js"></script><!-- /WP_FOOTER -->  
   </body>
</html>
